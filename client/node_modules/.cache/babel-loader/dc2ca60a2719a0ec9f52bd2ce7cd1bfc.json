{"ast":null,"code":"import _objectSpread from \"/Users/likhitha/Documents/cms/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/likhitha/Documents/cms/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/likhitha/Documents/cms/client/src/components/dashboard/Map1.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Container, Table, Row, Col, Card, CardTitle, CardBody, Modal, ModalHeader, Button, ModalFooter, ModalBody, Label, Input, Form, FormGroup } from 'reactstrap';\nimport DisplayEntries from \"./DisplayEntries\";\nimport service from \"./services.js\"; // import { CardBody, Card } from 'reactstrap';\n\nimport L from 'leaflet';\nimport { EditControl } from \"react-leaflet-draw\";\nimport { Polygon, Popup, Rectangle, Marker, TileLayer, FeatureGroup } from \"react-leaflet\";\nimport { Link } from \"react-router-dom\"; // import { Table, Container, Col, Row, PopUp, Button } from \"reactstrap\";\n\nimport { Map } from \"react-leaflet\"; // import { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap';\n\nimport Tabs from \"./Tabs\";\nimport PropTypes from \"prop-types\";\nimport DashBoard from \"./Dashboard\"; //import icon from \"./icon_building.png\";\n\nimport { Icon, marker } from \"leaflet\";\nimport { SelectionState } from \"@devexpress/dx-react-grid\"; //import EditFloormap from \"./EditFloormap\";\n\nimport history from \"./history\";\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport { divIcon } from \"leaflet\"; // import '../../../node_modules/leaflet/dist/leaflet.css';\n\nimport icon from '../../../node_modules/leaflet/dist/images/marker-icon.png';\nimport iconShadow from '../../../node_modules/leaflet/dist/images/marker-shadow.png';\nimport { makeStyles } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    map: {\n      height: \"calc(90vh - 90px)\",\n      width: '60%',\n      zIndex: 0\n    },\n    buttonWrapper: {\n      zIndex: 1,\n      position: \"absolute\",\n      bottom: theme.spacing(2),\n      marginLeft: \"30%\",\n      marginBottom: \"8%\",\n      transform: \"translateX(-50%)\"\n    },\n    headerWrapper: {\n      zIndex: 1,\n      marginLeft: theme.spacing(3),\n      marginTop: theme.spacing(1)\n    }\n  };\n});\n\nvar Map1 = function Map1(props) {\n  _s();\n\n  var mapRef = useRef();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      markers = _useState2[0],\n      setMarkers = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newLat = _useState4[0],\n      setNewLat = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      newLng = _useState6[0],\n      setNewLng = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      newName = _useState8[0],\n      setNewName = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      delBuildingId = _useState10[0],\n      setDelBuildingId = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      mapLayers = _useState12[0],\n      setMapLayers = _useState12[1];\n\n  var myIcon = L.icon({\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/images/marker-icon.png',\n    iconSize: [64, 64],\n    iconAnchor: [32, 64],\n    popupAnchor: null,\n    shadowUrl: null,\n    shadowSize: null,\n    shadowAnchor: null\n  }); // delete start\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      modalDelete = _useState14[0],\n      setModalDelete = _useState14[1];\n\n  var classes = useStyles(props);\n  var editRef = useRef();\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      modal = _useState16[0],\n      setModal = _useState16[1];\n\n  var _useState17 = useState(false),\n      _useState18 = _slicedToArray(_useState17, 2),\n      modal1 = _useState18[0],\n      setModal1 = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      drawing = _useState20[0],\n      setDrawing = _useState20[1];\n\n  var handleBoundary = function handleBoundary() {\n    //Edit this method to perform other actions\n    if (!drawing) {\n      editRef.current.leafletElement._toolbars.draw._modes.polygon.handler.enable();\n    } else {\n      editRef.current.leafletElement._toolbars.draw._modes.polygon.handler.completeShape();\n\n      editRef.current.leafletElement._toolbars.draw._modes.polygon.handler.disable();\n    }\n\n    setDrawing(!drawing);\n  };\n\n  var onShapeDrawn = function onShapeDrawn(e) {\n    setDrawing(false);\n    e.layer.on('click', function () {\n      editRef.current.leafletElement._toolbars.edit._modes.edit.handler.enable();\n    });\n    e.layer.on('contextmenu', function () {//do some contextmenu action here\n    });\n    e.layer.bindTooltip(\"Text\", {\n      className: 'leaflet-draw-tooltip:before leaflet-draw-tooltip leaflet-draw-tooltip-visible',\n      sticky: true,\n      direction: 'right'\n    });\n  };\n\n  var _useState21 = useState({\n    id: 0,\n    title: '',\n    color: '',\n    list: []\n  }),\n      _useState22 = _slicedToArray(_useState21, 1),\n      defaultBoard = _useState22[0];\n\n  var _useState23 = useState({\n    id: 0,\n    name: '',\n    description: '',\n    status: 0\n  }),\n      _useState24 = _slicedToArray(_useState23, 1),\n      defaultTask = _useState24[0];\n\n  var _useState25 = useState([{\n    id: 1,\n    title: 'Todo',\n    color: 'bg-primary',\n    list: [{\n      id: 1,\n      name: 'John',\n      description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s',\n      status: 0,\n      date: '2020-01-1'\n    }]\n  }, {\n    id: 2,\n    title: 'Planing',\n    color: 'bg-success',\n    list: [{\n      id: 1,\n      name: 'Juan',\n      description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s',\n      status: 1,\n      date: '2020-01-5'\n    }]\n  }, {\n    id: 3,\n    title: 'Working',\n    color: 'bg-info',\n    list: [{\n      id: 1,\n      name: 'Juan',\n      description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s',\n      status: 0,\n      date: '2020-01-6'\n    }]\n  }, {\n    id: 4,\n    title: 'Testing',\n    color: 'bg-warning',\n    list: [{\n      id: 1,\n      name: 'Juan',\n      description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s',\n      status: 0,\n      date: '2020-01-8'\n    }]\n  }, {\n    id: 5,\n    title: 'Complete',\n    color: 'bg-danger',\n    list: [{\n      id: 5,\n      name: 'Juan',\n      description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s',\n      status: 0,\n      date: '02 jan 2020'\n    }]\n  }]),\n      _useState26 = _slicedToArray(_useState25, 1),\n      boards = _useState26[0];\n\n  var _useState27 = useState(['bg-primary', 'bg-success', 'bg-warning', 'bg-info', 'bg-danger']),\n      _useState28 = _slicedToArray(_useState27, 1),\n      colors = _useState28[0];\n\n  var toggleModal = function toggleModal() {\n    return setModal(!modal);\n  };\n\n  var toggleModalDelete = function toggleModalDelete() {\n    return setModalDelete(!modalDelete);\n  };\n\n  var toggleModal1 = function toggleModal1() {\n    return setModal1(!modal1);\n  };\n\n  var newNameChange = function newNameChange(e) {\n    if (e.target.value.length < 20) {\n      setNewName(e.target.value);\n    }\n  };\n\n  var saveBoard = function saveBoard(item) {\n    // window.location.reload();\n    var newBName = newName;\n    var newBLat = newLat;\n    var newBLng = newLng;\n    debugger;\n\n    if (newName === \"\") {// toggleModal();\n    } else {\n      var id = \"B-\" + new Date().getTime().toString();\n      var emptyBuilding = {\n        \"link\": \"/ViewBuilding/\" + id,\n        \"id\": id,\n        \"name\": newBName,\n        \"description\": newBName,\n        \"street\": \"\",\n        \"Apartment\": \"\",\n        \"doornum\": \"\",\n        \"pincode\": \"\",\n        \"region\": \"\",\n        \"country\": \"\",\n        \"latitude\": newBLat,\n        \"longitude\": newBLng,\n        \"floors\": []\n      };\n      setNewName(\"\");\n      setNewLat(0.0);\n      setNewLng(0.0); // const markersLocal = markers;\n      // markers.push(emptyBuilding);\n\n      service.update(emptyBuilding);\n      window.location.reload();\n    }\n  };\n\n  var saveTask = function saveTask(item) {// let index = boards.list.findIndex(task => task.id === item.id)\n    // if (index !== -1) {\n    //   boards.list[index] = item\n    // } else {\n    //     boards.list.push(item)\n    // }\n  };\n\n  var deleteBuilding = function deleteBuilding(e) {\n    var id = e.target.getAttribute('value');\n\n    if (id !== null && id !== undefined && id !== \"\") {\n      setDelBuildingId(id);\n      toggleModalDelete();\n    }\n  };\n\n  var deleteBuildingConfirm = function deleteBuildingConfirm(e) {\n    var bid = delBuildingId;\n    service.deletion(bid);\n    window.location.reload();\n  }; // delete end\n\n\n  useEffect(function () {\n    service.getAll().then(function (allEntries) {\n      console.log(\"returning\", allEntries);\n      setMarkers(allEntries);\n      debugger;\n    });\n  }, []); // const changeHandler = (event) => setNewLat(event.target.value)\n  // const changeHandler1 = (event) => setNewLng(event.target.value)\n  // const changeHandler2 = (event) => setNewName(event.target.value)\n  //const changeHandlerFilter = (event) => setNewFilter(event.target.value)\n\n  var position = [60.21749913, 24.938379];\n  var position1 = [60.21749913, 24.806496774];\n  console.log(position);\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      searchTerm = _useState30[0],\n      setSearchTerm = _useState30[1]; //const [searchResults, setSearchResults] = React.useState([]);\n\n\n  var handleChange = function handleChange(event) {\n    setSearchTerm(event.target.value);\n  };\n\n  useEffect(function () {\n    var results = markers.filter(function (marker) {\n      return marker.name.toLowerCase().includes(searchTerm.toLocaleLowerCase());\n    });\n    setMarkers(results);\n\n    if (searchTerm === \"\") {\n      service.getAll().then(function (allEntries) {\n        console.log(\"returning\", allEntries);\n        setMarkers(allEntries);\n      });\n    }\n\n    console.log(results);\n  }, [searchTerm]); // this.setState({\n  //   searchValue: search,\n  //   filteredPeople: this.state.people.filter(\n  //    item =>\n  //     (item.lastname && item.lastname.toLowerCase().includes(search)) ||\n  //     (item.name && item.name.toLowerCase().includes(search))\n  //   )\n  //  });\n\n  var DefaultIcon = L.icon({\n    iconUrl: icon,\n    shadowUrl: iconShadow\n  });\n\n  var flyToMarker = function flyToMarker(e) {\n    var idx = e.target.getAttribute('value');\n    var markersLcl = markers;\n    var itemLcl = markersLcl[idx];\n    mapRef.current.leafletElement.flyTo([itemLcl.latitude, itemLcl.longitude], 16);\n  };\n\n  var handleDelete = function handleDelete(id, nameToBeDeleted, e) {\n    if (window.confirm(\"Delete \".concat(nameToBeDeleted, \"?\"))) {\n      service.deletion(id).then(function () {\n        setMarkers(markers.filter(function (marker) {\n          return marker.id !== id;\n        }));\n        window.confirm(\"Deleted \".concat(nameToBeDeleted));\n      }).catch(function () {\n        window.confirm(\"Error: \".concat(nameToBeDeleted, \" already deleted\"), 'red');\n        setMarkers(markers.filter(function (marker) {\n          return marker.id !== id;\n        }));\n      });\n    }\n  };\n\n  var handleUpdate = function handleUpdate(id, nameToBeDeleted, e) {};\n\n  function renderPopup(item) {\n    return /*#__PURE__*/_jsxDEV(Popup, {\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: item.link,\n        children: item.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this);\n  }\n\n  var handleClick = function handleClick(e) {\n    e.latlng();\n  };\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      isOpen = _useState32[0],\n      setIsOpen = _useState32[1];\n\n  var togglePopup = function togglePopup() {\n    setIsOpen(!isOpen);\n  };\n\n  var iconMarkup = renderToStaticMarkup( /*#__PURE__*/_jsxDEV(\"i\", {\n    class: \"fas fa-building\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 395,\n    columnNumber: 5\n  }, _this));\n  var customMarkerIcon = divIcon({\n    html: iconMarkup\n  });\n\n  var _onCreate = function _onCreate(e) {\n    var latlng = {};\n\n    if (e.layer !== undefined && e.layer !== null) {\n      latlng = e.layer.getLatLng();\n      setNewLat(latlng.lat);\n      setNewLng(latlng.lng);\n    }\n\n    if (isOpen === false) {\n      toggleModal();\n    }\n  };\n\n  var _onEdited = function _onEdited(e) {\n    console.log(e);\n    var _layers = e.layers._layers;\n    Object.values(_layers).map(function (_ref) {\n      var _leaflet_id = _ref._leaflet_id,\n          editing = _ref.editing;\n      setMapLayers(function (layers) {\n        return layers.map(function (l) {\n          return l.id === _leaflet_id ? _objectSpread(_objectSpread({}, l), {}, {\n            latlngs: _objectSpread({}, editing.latlngs[0])\n          }) : l;\n        });\n      });\n    });\n  };\n\n  var onChangeSearch = function onChangeSearch(e) {\n    var val = e.target.value;\n    setSearchTerm(val);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      className: \"iq-card mb-4\",\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        type: \"text\",\n        name: \"title\",\n        id: \"exampleEmail\",\n        placeholder: \"Search building by name\",\n        className: \"form-control mb-8 font-weight-bold \",\n        value: searchTerm,\n        onChange: onChangeSearch,\n        style: {\n          margin: \"1rem\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 8\n    }, _this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        sm: \"12\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          className: \"iq-card\",\n          children: /*#__PURE__*/_jsxDEV(CardBody, {\n            className: \"iq-card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Map, {\n              ref: mapRef,\n              style: {\n                height: \"500px\",\n                width: \"100%\"\n              },\n              center: [60.21679719545689, 24.810291821854594],\n              zoom: 16,\n              maxZoom: 100,\n              children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n                url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n                attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 17\n              }, _this), markers.map(function (item, index) {\n                return /*#__PURE__*/_jsxDEV(Marker, {\n                  position: [item.latitude, item.longitude],\n                  onMouseOver: function onMouseOver(e) {\n                    e.target.openPopup();\n                  },\n                  onMouseOut: function onMouseOut(e) {\n                    e.target.closePopup();\n                  }\n                }, item.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 21\n                }, _this);\n              }), /*#__PURE__*/_jsxDEV(FeatureGroup, {\n                children: /*#__PURE__*/_jsxDEV(EditControl, {\n                  ref: editRef,\n                  position: \"topright\",\n                  onCreated: onShapeDrawn //here you can specify your shape options and which handler you want to enable\n                  ,\n                  draw: {\n                    rectangle: false,\n                    circle: false,\n                    polyline: false,\n                    circlemarker: false,\n                    marker: false,\n                    polygon: {\n                      allowIntersection: false,\n                      shapeOptions: {\n                        color: \"#ff0000\"\n                      }\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 21\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 text-right\",\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                children: /*#__PURE__*/_jsxDEV(Modal, {\n                  isOpen: modal,\n                  fade: false,\n                  toggle: toggleModal,\n                  children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n                    toggle: toggleModal,\n                    className: \"border-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-primary card-title\",\n                      children: \"New Building\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(ModalBody, {\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      children: \"Please provide a name..\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 23\n                    }, _this), /*#__PURE__*/_jsxDEV(Input, {\n                      type: \"text\",\n                      name: \"title\",\n                      value: newName,\n                      onChange: newNameChange\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 560,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n                    children: /*#__PURE__*/_jsxDEV(Button, {\n                      color: \"primary\",\n                      onClick: saveBoard,\n                      active: \"false\",\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 566,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 551,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 text-right \",\n              children: /*#__PURE__*/_jsxDEV(Form, {\n                children: /*#__PURE__*/_jsxDEV(Modal, {\n                  isOpen: modalDelete,\n                  fade: false,\n                  toggle: toggleModalDelete,\n                  children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n                    toggle: toggleModalDelete,\n                    className: \"border-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-primary card-title\",\n                      children: \"Confirm Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 582,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 581,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(ModalBody, {\n                    children: /*#__PURE__*/_jsxDEV(Label, {\n                      children: \"Are you sure you want to dete Building?\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 587,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 586,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      color: \"secondary\",\n                      onClick: toggleModalDelete,\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 591,\n                      columnNumber: 23\n                    }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                      color: \"primary\",\n                      onClick: deleteBuildingConfirm,\n                      children: \"Delete\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 594,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 590,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: 12,\n              className: \"track\",\n              children: markers.map(function (item, index) {\n                return /*#__PURE__*/_jsxDEV(Card, {\n                  className: \"bg-transparent shadow-none mr-3 w-25 iq-card\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"iq-card-header d-flex justify-content-between bg-primary\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"iq-header-title\",\n                      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                        className: \"text-white\",\n                        children: /*#__PURE__*/_jsxDEV(Link, {\n                          to: \"/ViewBuilding/\" + item.id,\n                          onMouseEnter: flyToMarker,\n                          value: index,\n                          className: \"nav-link font-weight-bold \",\n                          children: [item.name, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 612,\n                          columnNumber: 54\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 612,\n                        columnNumber: 27\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 611,\n                      columnNumber: 25\n                    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"iq-card-header-toolbar d-flex align-items-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"ri-delete-bin-fill mr-0 font-size-28\",\n                        role: \"button\",\n                        tabIndex: \"0\",\n                        onClick: deleteBuilding,\n                        value: item.id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 617,\n                        columnNumber: 27\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 615,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 23\n                  }, _this), /*#__PURE__*/_jsxDEV(CardBody, {\n                    className: \"card-body iq-card-body pro-bg-card\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(Card, {\n                        className: \"iq-card\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"iq-card-header d-flex justify-content-between pro-task-bg-card\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"iq-header-title\",\n                            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                              className: \"text-blue\",\n                              children: /*#__PURE__*/_jsxDEV(Link, {\n                                to: \"/ViewBuilding/\" + item.id,\n                                onMouseEnter: flyToMarker,\n                                value: index,\n                                className: \"nav-link font-weight-bold font-black\",\n                                children: [item.street, \"   \", item.Apartment, \" \", item.doornum, \" \", item.region, \" \", item.country, \" \"]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 631,\n                                columnNumber: 59\n                              }, _this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 631,\n                              columnNumber: 33\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 629,\n                            columnNumber: 31\n                          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"iq-card-header-toolbar d-flex align-items-center\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 636,\n                            columnNumber: 31\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 628,\n                          columnNumber: 29\n                        }, _this), /*#__PURE__*/_jsxDEV(CardBody, {\n                          className: \"card-body iq-card-body pro-task-bg-card\",\n                          children: [/*#__PURE__*/_jsxDEV(Link, {\n                            to: \"/EditBuilding/\" + item.id,\n                            children: /*#__PURE__*/_jsxDEV(\"a\", {\n                              className: \"badge iq-bg-primary mr-2 p-2 font-size-18\",\n                              children: \"Edit\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 643,\n                              columnNumber: 35\n                            }, _this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 642,\n                            columnNumber: 29\n                          }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                            className: \"badge iq-bg-primary mr-2 p-2 font-size-18\",\n                            onClick: handleBoundary,\n                            children: \"Manage Boundary\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 649,\n                            columnNumber: 33\n                          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"mt-2 progress\",\n                            style: {\n                              \"height\": \"4px\"\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              role: \"progressbar\",\n                              \"aria-valuemin\": \"0\",\n                              \"aria-valuemax\": \"100\",\n                              \"aria-valuenow\": \"40\",\n                              className: \"progress-bar iq-border-radius-10 bg-success\",\n                              style: {\n                                \"width\": \"40%\"\n                              },\n                              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: \" \"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 675,\n                                columnNumber: 35\n                              }, _this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 674,\n                              columnNumber: 33\n                            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              role: \"progressbar\",\n                              \"aria-valuemin\": \"0\",\n                              \"aria-valuemax\": \"100\",\n                              \"aria-valuenow\": \"80\",\n                              className: \"progress-bar iq-border-radius-10 bg-warning\",\n                              style: {\n                                \"width\": \"80%\"\n                              },\n                              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: \" \"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 678,\n                                columnNumber: 35\n                              }, _this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 677,\n                              columnNumber: 33\n                            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              role: \"progressbar\",\n                              \"aria-valuemin\": \"0\",\n                              \"aria-valuemax\": \"100\",\n                              \"aria-valuenow\": \"50\",\n                              className: \"progress-bar iq-border-radius-10 bg-danger\",\n                              style: {\n                                \"width\": \"50%\"\n                              },\n                              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                                children: \" \"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 681,\n                                columnNumber: 35\n                              }, _this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 680,\n                              columnNumber: 33\n                            }, _this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 673,\n                            columnNumber: 31\n                          }, _this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 641,\n                          columnNumber: 29\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 627,\n                        columnNumber: 27\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 624,\n                      columnNumber: 25\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 623,\n                    columnNumber: 23\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 609,\n                  columnNumber: 21\n                }, _this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: saveTask(defaultTask),\n        children: /*#__PURE__*/_jsxDEV(Modal, {\n          isOpen: modal1,\n          fade: false,\n          toggle: toggleModal1,\n          children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n            toggle: toggleModal1,\n            className: \"border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-primary card-title\",\n              children: \"New Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 705,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(ModalBody, {\n            children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                for: \"exampleEmail\",\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"email\",\n                id: \"exampleEmail\",\n                placeholder: \"with a placeholder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 713,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                for: \"examplePassword\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                name: \"password\",\n                id: \"examplePassword\",\n                placeholder: \"password placeholder\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              check: true,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                check: true,\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  type: \"radio\",\n                  name: \"radio1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 19\n                }, _this), ' ', \"Go\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              check: true,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                check: true,\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  type: \"radio\",\n                  name: \"radio1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 727,\n                  columnNumber: 19\n                }, _this), ' ', \"High\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 725,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              check: true,\n              children: /*#__PURE__*/_jsxDEV(Label, {\n                check: true,\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  type: \"radio\",\n                  name: \"radio1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 733,\n                  columnNumber: 19\n                }, _this), ' ', \"Critical\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 732,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 731,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              color: \"secondary\",\n              onClick: toggleModal1,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"primary\",\n              children: \"Save Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 742,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 446,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Map1, \"iP4YmeuyLu7krVYEt5rNReeiBUQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = Map1;\nexport default Map1;\n\nvar _c;\n\n$RefreshReg$(_c, \"Map1\");","map":{"version":3,"sources":["/Users/likhitha/Documents/cms/client/src/components/dashboard/Map1.js"],"names":["React","useEffect","useRef","useState","Container","Table","Row","Col","Card","CardTitle","CardBody","Modal","ModalHeader","Button","ModalFooter","ModalBody","Label","Input","Form","FormGroup","DisplayEntries","service","L","EditControl","Polygon","Popup","Rectangle","Marker","TileLayer","FeatureGroup","Link","Map","Tabs","PropTypes","DashBoard","Icon","marker","SelectionState","history","renderToStaticMarkup","divIcon","icon","iconShadow","makeStyles","useStyles","theme","map","height","width","zIndex","buttonWrapper","position","bottom","spacing","marginLeft","marginBottom","transform","headerWrapper","marginTop","Map1","props","mapRef","markers","setMarkers","newLat","setNewLat","newLng","setNewLng","newName","setNewName","delBuildingId","setDelBuildingId","mapLayers","setMapLayers","myIcon","iconUrl","iconSize","iconAnchor","popupAnchor","shadowUrl","shadowSize","shadowAnchor","modalDelete","setModalDelete","classes","editRef","modal","setModal","modal1","setModal1","drawing","setDrawing","handleBoundary","current","leafletElement","_toolbars","draw","_modes","polygon","handler","enable","completeShape","disable","onShapeDrawn","e","layer","on","edit","bindTooltip","className","sticky","direction","id","title","color","list","defaultBoard","name","description","status","defaultTask","date","boards","colors","toggleModal","toggleModalDelete","toggleModal1","newNameChange","target","value","length","saveBoard","item","newBName","newBLat","newBLng","Date","getTime","toString","emptyBuilding","update","window","location","reload","saveTask","deleteBuilding","getAttribute","undefined","deleteBuildingConfirm","bid","deletion","getAll","then","allEntries","console","log","position1","searchTerm","setSearchTerm","handleChange","event","results","filter","toLowerCase","includes","toLocaleLowerCase","DefaultIcon","flyToMarker","idx","markersLcl","itemLcl","flyTo","latitude","longitude","handleDelete","nameToBeDeleted","confirm","catch","handleUpdate","renderPopup","link","handleClick","latlng","isOpen","setIsOpen","togglePopup","iconMarkup","customMarkerIcon","html","_onCreate","getLatLng","lat","lng","_onEdited","_layers","layers","Object","values","_leaflet_id","editing","l","latlngs","onChangeSearch","val","margin","index","openPopup","closePopup","rectangle","circle","polyline","circlemarker","allowIntersection","shapeOptions","street","Apartment","doornum","region","country"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nimport { Container, Table, Row, Col, Card, CardTitle, CardBody, Modal, ModalHeader, Button, ModalFooter, ModalBody, Label, Input, Form, FormGroup } from 'reactstrap';\n\n\nimport DisplayEntries from \"./DisplayEntries\"\nimport service from \"./services.js\";\n// import { CardBody, Card } from 'reactstrap';\nimport L from 'leaflet';\nimport { EditControl } from \"react-leaflet-draw\";\nimport { Polygon, Popup, Rectangle, Marker, TileLayer, FeatureGroup } from \"react-leaflet\";\nimport { Link } from \"react-router-dom\";\n// import { Table, Container, Col, Row, PopUp, Button } from \"reactstrap\";\nimport { Map } from \"react-leaflet\";\n\n// import { Nav, NavItem, NavLink, TabContent, TabPane } from 'reactstrap';\nimport Tabs from \"./Tabs\";\nimport PropTypes from \"prop-types\";\nimport DashBoard from \"./Dashboard\";\n//import icon from \"./icon_building.png\";\nimport { Icon, marker } from \"leaflet\";\nimport { SelectionState } from \"@devexpress/dx-react-grid\";\n//import EditFloormap from \"./EditFloormap\";\nimport history from \"./history\"\nimport { renderToStaticMarkup } from \"react-dom/server\";\nimport { divIcon } from \"leaflet\";\n// import '../../../node_modules/leaflet/dist/leaflet.css';\nimport icon from '../../../node_modules/leaflet/dist/images/marker-icon.png';\nimport iconShadow from '../../../node_modules/leaflet/dist/images/marker-shadow.png';\nimport { makeStyles} from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    map: ({\n        height: `calc(90vh - 90px)`,\n        width: '60%',\n        zIndex: 0\n    }),\n    buttonWrapper: {\n        zIndex: 1,\n        position: \"absolute\",\n        bottom: theme.spacing(2),\n        marginLeft: \"30%\",\n        marginBottom: \"8%\",\n        transform: \"translateX(-50%)\",\n    },\n    headerWrapper: {\n        zIndex: 1,\n        marginLeft: theme.spacing(3),\n        marginTop: theme.spacing(1),\n    }\n}));\n\n\n\nconst Map1 = (props) => {\n\n\n  let mapRef = useRef();\n  const [markers, setMarkers] = useState([])\n  const [newLat, setNewLat] = useState('')\n  const [newLng, setNewLng] = useState('')\n  const [newName, setNewName] = useState('')\n  const [delBuildingId, setDelBuildingId] = useState('')\n\n  const [mapLayers, setMapLayers] = useState([]);\n  const myIcon = L.icon({\n    iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.0.3/images/marker-icon.png',\n    iconSize: [64, 64],\n    iconAnchor: [32, 64],\n    popupAnchor: null,\n    shadowUrl: null,\n    shadowSize: null,\n    shadowAnchor: null\n  });\n  // delete start\n  const [modalDelete, setModalDelete] = useState(false);\n  const classes = useStyles(props)\n  const editRef = useRef();\n\n\n  const [modal, setModal] = useState(false);\n  const [modal1, setModal1] = useState(false);\n  const [drawing, setDrawing] = useState(false);\n\n    const handleBoundary = () => {\n        \n        //Edit this method to perform other actions\n\n        if (!drawing) {\n            editRef.current.leafletElement._toolbars.draw._modes.polygon.handler.enable()\n        } else {\n          editRef.current.leafletElement._toolbars.draw._modes.polygon.handler.completeShape()\n          editRef.current.leafletElement._toolbars.draw._modes.polygon.handler.disable()\n        }\n        setDrawing(!drawing)\n    }\n    const onShapeDrawn = (e) => {\n      setDrawing(false)\n\n      e.layer.on('click', () => {\n        editRef.current.leafletElement._toolbars.edit._modes.edit.handler.enable()\n      })\n      e.layer.on('contextmenu', () => {\n          //do some contextmenu action here\n      })\n      e.layer.bindTooltip(\"Text\", \n          {\n            className: 'leaflet-draw-tooltip:before leaflet-draw-tooltip leaflet-draw-tooltip-visible',\n            sticky: true,\n            direction: 'right'\n          }\n      );\n  }\n\n  const [defaultBoard] = useState(\n    {\n      id: 0,\n      title: '',\n      color: '',\n      list: [\n\n      ]\n    },\n  );\n  const [defaultTask] = useState(\n    {\n      id: 0,\n      name: '',\n      description: '',\n      status: 0\n    }\n  );\n  const [boards] = useState([\n    {\n      id: 1,\n      title: 'Todo',\n      color: 'bg-primary',\n      list: [\n        { id: 1, name: 'John', description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s', status: 0, date: '2020-01-1' },\n      ]\n    },\n    {\n      id: 2,\n      title: 'Planing',\n      color: 'bg-success',\n      list: [\n        { id: 1, name: 'Juan', description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s', status: 1, date: '2020-01-5' }\n      ]\n    },\n    {\n      id: 3,\n      title: 'Working',\n      color: 'bg-info',\n      list: [\n        { id: 1, name: 'Juan', description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s', status: 0, date: '2020-01-6' },\n      ]\n    },\n    {\n      id: 4,\n      title: 'Testing',\n      color: 'bg-warning',\n      list: [\n        { id: 1, name: 'Juan', description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s', status: 0, date: '2020-01-8' }\n\n      ]\n    },\n    {\n      id: 5,\n      title: 'Complete',\n      color: 'bg-danger',\n      list: [\n        { id: 5, name: 'Juan', description: 'Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\\'s standard dummy text ever since the 1500s', status: 0, date: '02 jan 2020' }\n      ]\n    }\n  ]);\n  const [colors] = useState([\n    'bg-primary',\n    'bg-success',\n    'bg-warning',\n    'bg-info',\n    'bg-danger'\n  ]);\n\n\n  const toggleModal = () => setModal(!modal);\n  const toggleModalDelete = () => setModalDelete(!modalDelete);\n\n  const toggleModal1 = () => setModal1(!modal1);\n\n  const newNameChange = (e) => {\n    if (e.target.value.length < 20) {\n      setNewName(e.target.value);\n    }\n  };\n  const saveBoard = (item) => {\n    // window.location.reload();\n    const newBName = newName;\n    const newBLat = newLat;\n    const newBLng = newLng;\n    debugger;\n    if (newName === \"\") {\n      // toggleModal();\n    } else {\n      const id = \"B-\" + new Date().getTime().toString();\n      const emptyBuilding = {\n        \"link\": \"/ViewBuilding/\" + id,\n        \"id\": id,\n        \"name\": newBName,\n        \"description\": newBName,\n        \"street\": \"\",\n        \"Apartment\": \"\",\n        \"doornum\": \"\",\n        \"pincode\": \"\",\n        \"region\": \"\",\n        \"country\": \"\",\n        \"latitude\": newBLat,\n        \"longitude\": newBLng,\n        \"floors\": []\n      };\n      setNewName(\"\");\n      setNewLat(0.0);\n      setNewLng(0.0);\n      // const markersLocal = markers;\n      // markers.push(emptyBuilding);\n      service.update(emptyBuilding);\n      window.location.reload();\n    }\n  };\n  const saveTask = (item) => {\n    // let index = boards.list.findIndex(task => task.id === item.id)\n    // if (index !== -1) {\n    //   boards.list[index] = item\n    // } else {\n    //     boards.list.push(item)\n    // }\n\n  };\n  const deleteBuilding = (e) => {\n\n    const id = e.target.getAttribute('value');\n    if (id !== null && id !== undefined && id !== \"\") {\n      setDelBuildingId(id);\n      toggleModalDelete();\n    }\n\n\n  }\n\n  const deleteBuildingConfirm = (e) => {\n\n    const bid = delBuildingId;\n    service.deletion(bid);\n    window.location.reload();\n\n\n  }\n  // delete end\n\n  useEffect(() => {\n\n\n    service\n      .getAll()\n      .then(allEntries => {\n        console.log(\"returning\", allEntries)\n\n        setMarkers(allEntries)\n        debugger;\n\n      })\n  }, [])\n\n\n\n  // const changeHandler = (event) => setNewLat(event.target.value)\n  // const changeHandler1 = (event) => setNewLng(event.target.value)\n  // const changeHandler2 = (event) => setNewName(event.target.value)\n  //const changeHandlerFilter = (event) => setNewFilter(event.target.value)\n\n\n\n  const position = [60.21749913, 24.938379];\n  const position1 = [60.21749913, 24.806496774]\n  console.log(position)\n\n\n\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  //const [searchResults, setSearchResults] = React.useState([]);\n  const handleChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  useEffect(() => {\n    const results = markers.filter(marker =>\n      ( marker.name.toLowerCase().includes(searchTerm.toLocaleLowerCase()  )\n      \n      \n      )\n    );\n    setMarkers(results);\n      if(searchTerm === \"\")\n      {\n        service\n        .getAll()\n        .then(allEntries => {\n          console.log(\"returning\", allEntries)\n  \n          setMarkers(allEntries)\n        })\n      }\n\n    console.log(results)\n  }, [searchTerm]);\n\n  // this.setState({\n  //   searchValue: search,\n  //   filteredPeople: this.state.people.filter(\n  //    item =>\n  //     (item.lastname && item.lastname.toLowerCase().includes(search)) ||\n  //     (item.name && item.name.toLowerCase().includes(search))\n  //   )\n  //  });\n  let DefaultIcon = L.icon({\n    iconUrl: icon,\n    shadowUrl: iconShadow\n  });\n\n\n  const flyToMarker = (e) => {\n\n    const idx = e.target.getAttribute('value');\n    const markersLcl = markers;\n    const itemLcl = markersLcl[idx];\n\n\n\n\n\n    mapRef.current.leafletElement.flyTo([itemLcl.latitude, itemLcl.longitude], 16)\n  }\n  const handleDelete = (id, nameToBeDeleted, e) => {\n    if (window.confirm(`Delete ${nameToBeDeleted}?`)) {\n      service\n        .deletion(id)\n        .then(() => {\n          setMarkers(markers.filter(marker => marker.id !== id));\n          window.confirm(`Deleted ${nameToBeDeleted}`);\n        })\n        .catch(() => {\n          window.confirm(`Error: ${nameToBeDeleted} already deleted`, 'red');\n          setMarkers(markers.filter((marker) => marker.id !== id));\n        });\n    }\n  }\n\n  const handleUpdate = (id, nameToBeDeleted, e) => {\n\n  }\n\n  function renderPopup(item) {\n\n    return (\n\n      <Popup\n\n      >\n\n        <Link to={item.link} >\n          {item.description\n          }</Link>\n      </Popup>\n\n    );\n  }\n\n\n\n  const handleClick = (e) => {\n    e.latlng()\n  }\n\n\n\n\n\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const togglePopup = () => {\n    setIsOpen(!isOpen);\n  }\n  const iconMarkup = renderToStaticMarkup(\n    <i class=\"fas fa-building\" />\n\n  );\n  const customMarkerIcon = divIcon({\n    html: iconMarkup\n  });\n\n  const _onCreate = (e) => {\n    let latlng = {}\n    if (e.layer !== undefined && e.layer !== null) {\n      latlng = e.layer.getLatLng();\n      setNewLat(latlng.lat);\n      setNewLng(latlng.lng);\n    }\n    if (isOpen === false) {\n\n      toggleModal();\n    }\n\n\n  };\n\n  const _onEdited = (e) => {\n    console.log(e);\n    const {\n      layers: { _layers },\n    } = e;\n\n    Object.values(_layers).map(({ _leaflet_id, editing }) => {\n      setMapLayers((layers) =>\n        layers.map((l) =>\n          l.id === _leaflet_id\n            ? { ...l, latlngs: { ...editing.latlngs[0] } }\n            : l\n        )\n      );\n    });\n  };\n\nconst onChangeSearch= (e)=>{\n  \n    const val = e.target.value;\n\n    setSearchTerm(val);\n\n}\n\n  return (\n\n\n\n    <div id=\"container\" >\n       <Card className=\"iq-card mb-4\" >\n        <Input type=\"text\" name=\"title\" id=\"exampleEmail\" \n        placeholder=\"Search building by name\"\n        className=\"form-control mb-8 font-weight-bold \" value={searchTerm} onChange={onChangeSearch}    style={{margin:\"1rem\"}}\n         />\n      </Card>\n  \n      {/* edit start */}\n      <Row>\n        <Col sm=\"12\">\n          <Card className=\"iq-card\">\n            {/* <div className=\"iq-card-header d-flex justify-content-between\">\n              <CardTitle className=\"iq-header-title\">\n                Map\n               \n              </CardTitle>\n            </div> */}\n            <CardBody className=\"iq-card-body\">\n              <p></p>\n              <Map ref={mapRef}\n                style={{ height: \"500px\", width: \"100%\" }}\n\n                center={[60.21679719545689, 24.810291821854594]} zoom={16} maxZoom={100}\n\n              >\n\n                <TileLayer\n                  url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                  attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                />\n\n                {\n                  markers.map((item, index) => (\n\n                    <Marker key={item.id}\n                      position={[item.latitude, item.longitude]}\n                      onMouseOver={(e) => {\n                        e.target.openPopup();\n                      }}\n                      onMouseOut={(e) => {\n                        e.target.closePopup();\n                      }}\n                    >\n\n\n\n\n                    </Marker>\n                  ))\n                }\n\n\n                {/* <FeatureGroup>\n                  <EditControl\n                  ref = {editRef}\n                    position=\"topright\"\n                    onCreated={onShapeDrawn}\n                    onEdited={_onEdited}\n                    // onDeleted={_onDeleted}\n                    draw={{\n                      rectangle: false,\n                      polyline: false,\n                      circle: false,\n                      circlemarker: false,\n                      polygon: false,\n                    }}\n                  />\n                </FeatureGroup> */}\n                  <FeatureGroup >\n                    <EditControl\n                    ref={editRef}\n                    position='topright'\n                    onCreated={onShapeDrawn}\n                    //here you can specify your shape options and which handler you want to enable\n                    draw={{\n                        rectangle: false,\n                        circle: false,\n                        polyline: false,\n                        circlemarker: false,\n                        marker: false,\n                        polygon: {\n                            allowIntersection: false,\n                            shapeOptions: {\n                                color: \"#ff0000\"\n                            },\n                        }\n                    }}\n                    />\n                </FeatureGroup>\n\n\n              </Map>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n\n\n      <Container fluid={true}>\n        <Row>\n          <Col md={12}>\n            <Row>\n              <div className=\"col-12 text-right\">\n                {/* onSubmit={saveBoard(defaultBoard)} */}\n                <Form >\n                  <Modal isOpen={modal} fade={false} toggle={toggleModal}>\n                    <ModalHeader toggle={toggleModal} className={\"border-0\"}>\n                      <h5 className={\"text-primary card-title\"}>\n                        New Building\n                                                    </h5>\n                    </ModalHeader>\n                    <ModalBody>\n                      <Label>Please provide a name..</Label>\n                      <Input type=\"text\" name=\"title\" value={newName} onChange={newNameChange} />\n                    </ModalBody>\n                    <ModalFooter>\n                      {/* <Button color=\"secondary\" onClick={toggleModal}>\n                        Cancel\n                                                </Button> */}\n                      <Button color=\"primary\" onClick={saveBoard} active=\"false\">\n                        Save\n                                                </Button>\n                    </ModalFooter>\n                  </Modal>\n                </Form>\n              </div>\n\n            </Row>\n\n            <Row>\n              <div className=\"col-12 text-right \">\n                {/* onSubmit={saveBoard(defaultBoard)} */}\n                <Form >\n                  <Modal isOpen={modalDelete} fade={false} toggle={toggleModalDelete}>\n                    <ModalHeader toggle={toggleModalDelete} className={\"border-0\"}>\n                      <h5 className={\"text-primary card-title\"}>\n                        Confirm Delete\n                                                    </h5>\n                    </ModalHeader>\n                    <ModalBody>\n                      <Label>Are you sure you want to dete Building?</Label>\n                      {/* <Input type=\"text\" name=\"title\" value={newName} onChange={newNameChange} /> */}\n                    </ModalBody>\n                    <ModalFooter>\n                      <Button color=\"secondary\" onClick={toggleModalDelete}>\n                        Cancel\n                                                </Button>\n                      <Button color=\"primary\" onClick={deleteBuildingConfirm}>\n                        Delete\n                                                </Button>\n                    </ModalFooter>\n                  </Modal>\n                </Form>\n              </div>\n\n            </Row>\n\n\n            <Row>\n              <Col md={12} className=\"track\">\n                {\n                  markers.map((item, index) => (\n                    <Card className=\"bg-transparent shadow-none mr-3 w-25 iq-card\" >\n                      <div className={\"iq-card-header d-flex justify-content-between bg-primary\"}>\n                        <div className=\"iq-header-title\">\n                          <h3 className=\"text-white\"><Link to={\"/ViewBuilding/\" + item.id} onMouseEnter={flyToMarker} value={index} className=\"nav-link font-weight-bold \">{item.name} </Link>\n                          </h3>\n                        </div>\n                        <div className=\"iq-card-header-toolbar d-flex align-items-center\">\n\n                          <i className=\"ri-delete-bin-fill mr-0 font-size-28\" role=\"button\" tabIndex=\"0\" onClick={deleteBuilding} value={item.id}>\n\n                          </i>\n\n                        </div>\n                      </div>\n                      <CardBody className=\"card-body iq-card-body pro-bg-card\">\n                        <div>\n\n\n                          <Card className=\"iq-card\">\n                            <div className=\"iq-card-header d-flex justify-content-between pro-task-bg-card\">\n                              <div className=\"iq-header-title\">\n                                {/* <Link to={item.link} onMouseEnter={flyToMarker} value={index} className=\"nav-link font-weight-bold \">{item.description} </Link> */}\n                                <h3 className=\"text-blue\"><Link to={\"/ViewBuilding/\" + item.id} onMouseEnter={flyToMarker} value={index} className=\"nav-link font-weight-bold font-black\">{item.street}   {item.Apartment} {item.doornum} {item.region} {item.country} </Link>\n                                </h3>\n\n\n                              </div>\n                              <div className=\"iq-card-header-toolbar d-flex align-items-center\">\n\n                                \n                              </div>\n                            </div>\n                            <CardBody className=\"card-body iq-card-body pro-task-bg-card\">\n                            <Link to={\"/EditBuilding/\" + item.id}>\n                                  <a className=\"badge iq-bg-primary mr-2 p-2 font-size-18\">Edit</a>\n                                </Link>\n\n                                {/* <Link to={\"/EditBuilding/\" + item.id}>\n                                  <a className=\"badge iq-bg-primary mr-2 p-2 font-size-18\">Manage Boundary</a>\n                                </Link> */}\n                                <Button \n                    className=\"badge iq-bg-primary mr-2 p-2 font-size-18\"\n                    onClick={handleBoundary}>\n                    \n                   Manage Boundary\n                </Button>\n\n                              {/* <p className=\"font-size-12\">{item.description}</p> */}\n                              {/* <div className=\"d-flex justify-content-between\">\n                                <div>\n\n                                  <i className=\"ri-ball-pen-line font-size-18\" role=\"button\" tabIndex=\"0\"></i>\n                                  <i className=\"ri-attachment-line font-size-18 ml-2\"></i>\n                                  <i className=\"ri-eye-line font-size-18 ml-2\"></i>\n                                  <span>\n                                    <small>54</small>\n                                  </span>\n                                  <i className=\"ri-chat-4-line font-size-18 ml-2\"></i>\n                                  <span>\n                                    <small>36</small>\n                                  </span>\n                                  <i className=\"ri-close-circle-line font-size-18 ml-2\"></i>\n                                </div>\n                              </div> */}\n                              <div className=\"mt-2 progress\" style={{ \"height\": \"4px\" }}>\n                                <div role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"40\" className=\"progress-bar iq-border-radius-10 bg-success\" style={{ \"width\": \"40%\" }}>\n                                  <span> </span>\n                                </div>\n                                <div role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"80\" className=\"progress-bar iq-border-radius-10 bg-warning\" style={{ \"width\": \"80%\" }}>\n                                  <span> </span>\n                                </div>\n                                <div role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" aria-valuenow=\"50\" className=\"progress-bar iq-border-radius-10 bg-danger\" style={{ \"width\": \"50%\" }}>\n                                  <span> </span>\n                                </div>\n                              </div>\n                            </CardBody>\n                          </Card>\n\n\n\n                        </div>\n                        {/* <Button color=\"primary\" className=\"btn btn-lg btn-block\"  onClick={toggleModal1}>\n                                                        Add Item\n                                                    </Button> */}\n                      </CardBody>\n\n                    </Card>\n                  ))\n                }\n\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <Form onSubmit={saveTask(defaultTask)}>\n          <Modal isOpen={modal1} fade={false} toggle={toggleModal1}>\n            <ModalHeader toggle={toggleModal1} className={\"border-0\"}>\n              <h5 className={\"text-primary card-title\"}>\n                New Task\n                                    </h5>\n            </ModalHeader>\n            <ModalBody>\n              <FormGroup>\n                <Label for=\"exampleEmail\">Name</Label>\n                <Input type=\"text\" name=\"email\" id=\"exampleEmail\" placeholder=\"with a placeholder\" />\n              </FormGroup>\n              <FormGroup>\n                <Label for=\"examplePassword\">Description</Label>\n                <Input type=\"text\" name=\"password\" id=\"examplePassword\" placeholder=\"password placeholder\" />\n              </FormGroup>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" name=\"radio1\" />{' '}\n                                                Go\n                                        </Label>\n              </FormGroup>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" name=\"radio1\" />{' '}\n                                           High\n                                        </Label>\n              </FormGroup>\n              <FormGroup check>\n                <Label check>\n                  <Input type=\"radio\" name=\"radio1\" />{' '}\n                                           Critical\n                                        </Label>\n              </FormGroup>\n            </ModalBody>\n            <ModalFooter>\n              <Button color=\"secondary\" onClick={toggleModal1}>\n                Close\n                                </Button>\n              <Button color=\"primary\" >\n                Save Changes\n                                </Button>\n            </ModalFooter>\n          </Modal>\n        </Form>\n      </Container>\n      {/* edit end */}\n      {/* <Container fluid={true}>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"iq-card \">\n              <div className=\"row d-flex align-items-center mb-2\">\n                <div className=\"col-md-9\"><div className=\"d-flex align-items-center\">\n                  <h4 className=\"mb-0 p-3 ml-2\">Buildings</h4>\n\n                </div>\n                </div>\n                <div className=\"text-right col-md-3\">\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container> */}\n\n\n\n      {/* <Container fluid={true}>\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <div className=\"iq-card \">\n              <div className=\"row d-flex align-items-center mb-2\">\n                <div className=\"col-md-9\"><div className=\"d-flex align-items-center\">\n                  <Card style={{ margin: \".1%\" }}>\n                    <CardBody>\n\n                      <Table className=\"table\" items={markers}>\n\n                        <thead>\n                          <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Name</th>\n                            <th scope=\"col\">Address</th>\n                            <th scope=\"col\">Delete</th>\n                            <th scope=\"col\">Edit</th>\n\n                          </tr>\n                        </thead>\n                        <tbody>\n\n                          {\n\n                            markers.map((item, index) => (\n\n                              <tr key={index}>\n                                <th>{item.id} </th>\n                                <td> <Link to={item.link} onMouseEnter={flyToMarker} value={index} className=\"nav-link font-weight-bold \">{item.description} </Link></td>\n                                <td >{item.street}   {item.Apartment} {item.doornum} {item.region} {item.country}</td>\n                                <td><button type=\"button\"\n                                  onClick={() => handleDelete(item.id, item.description)}\n                                > Delete </button></td>\n\n                                <td><Link to=\"/EditBuilding/1\" className=\"nav-link font-weight-bold \">edit</Link></td>\n\n\n                                {<Link onClick={(e) => handleDelete(item.refnum, item.description, e)} className=\"nav-link font-weight-bold \">Delete</Link> }\n\n                              </tr>\n                            ))\n                          }\n\n\n\n                        </tbody>\n                      </Table>\n\n                    </CardBody>\n                  </Card>\n\n                </div>\n                </div>\n                <div className=\"text-right col-md-3\">\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container> */}\n\n\n      \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    </div>\n  );\n}\n\n\n\n\nexport default Map1\n\n"]},"metadata":{},"sourceType":"module"}